## 머신 비전 카메라 

### GigE 카메라     
- 인터넷 프로토콜 기반, Cat-5 & Cat-6 케이블 사용
- 여러대의 카메라 가능, 고속 데이터 전송 또는 긴 케이블 길이가 필요한 경우 사용
- 800~900Mbps

### USB3.0 카메라 
- USB 3.0 기술을 이용해서 데이터 전송 PC 와 쉽게 연결 가능
- 5Gbps 속도

### CameraLink 카메라  
- 고속 Serial Interface 표준
- Serial 프로토콜을 사용하여 최대 6.8Gbps 속도 고해상도 이미지 검사에서 사용


### CoaXPress   
- 대용량 데이터 전송, 차세대 머신비전 표준
- 4채널 가능함, 한 채널당 6.25Gbps 전송 가능 'CRC-32'로 통신 데이터 오류를 확인
- 100m 전송거리를 보장 (케이블 가격이 고가임)
- 1개의 채널을 통해서 이미지 데이터, 카메라 제어, 트리거링, GPIO, 전원까지 공급 가능함

## 머신 비전 카메라 

#### 카메라 종류  특징  
- GigE :   인터넷 프로토콜 기반, Cat-5 & Cat-6 케이블 사용   여러대의 카메라, 고속 데이터 전송 또는 긴 케이블 길이가 필요한 경우 800~900Mbps
- USB3.0 :  USB 3.0 기술을 이용해서 데이터 전송 PC 와 쉽게 연결 가능, 5Gbps 속도
- CameraLink :고속 Serial Interface 표준, Serial 프로토콜을 사용하여 최대 6.8Gbps 속도 고해상도 이미지 검사에서 사용
- CoaXPress : 대용량 데이터 전송, 차세대 머신비전 표준, 4채널 가능함, 한 채널당 6.25Gbps 전송 가능 'CRC-32'로 통신 데이터 오류를 확인, 100m 전송거리를 보장 (케이블 가격이 고가임), 1개의 채널을 통해서 이미지 데이터, 카메라 제어, 트리거링, GPIO, 전원까지 공급 가능함


## Actuator 종류
- 액체렌즈    
- PIEZO   
- ENCODER 
- VCM 

## 스캐너 종류 
- Line scan : 한 라인의 픽셀만 인식하며 카메라 혹은 물체가 움직이면서 촬영됨. 컨베이어 벨트와 같이 움직이는 개체를 촬영하는데 적합, 높이에 제약이 없음. 셔터가 필요가 없음. 더 밝은 조명이 필요하고, 센서와 수직한 방향으로 물체를 이동시키거나 이동 속도가 일정해야 정확한 영상을 얻을 수 있다는 단점도 가지고 있음, 적은수의 픽셀을 사용해서 경제성과 검사체의 길이에 제한이 없지만 노출 시간이 짧아 감도가 약함
- Area scan : 픽셀의 수에 따라 높이에 대한 제약이 있음.
- http://www.envision.co.kr/mv/know/camera/listbody.asp?po_nav=2_4_4&po_no=35&gotopage=3

## ccd vs cmos
#### CCD 
 - CMOS보다 노이즈가 적어 선명한 화질의 표현이 가능함. 
 - 미세한 표현과 섬세한 색상구분이 가능
 - 칩 사이즈가 작아 소형·경량화 가능. -정밀도를 필요로 하는 의료기기, 산업장비, 과학기기용 카메라에 사용됨.     -가격이 비싸다. 
 - 주변 회로가 복잡하다. 
 - 주변 IC와 원 칩화가 불가능함
#### CMOS    
 - CCD 대비 약 1/100의 전력만을 소비. (CCD : 2~5W / CMOS : 20~50mW) 
 - 모든 픽셀을 개별적으로 읽기 때문에 blooming effect가 없음. 
 - 병렬전송을 통해 데이터를 전송하기 때문에 빠른 이미지 저장에 적합. 
 - 소형제품의 제작이 가능하고 생산공정이 매우 간단함.  - Noise 현상 발생이 잦다.
 - 센서 칩의 사이즈가 크다.
 - 정밀한 표현력이 떨어진다
#### 바코드 인식하는 업체들의 카메라를 비교해 봤을때 전부 CMOS 형이었음. 그것으로도 충분하게 커버가 가능함.
- http://www.envision.co.kr/mv/know/camera/listbody.asp?po_nav=4_2_2&po_no=47&gotopage=2


## 노이즈 제거 
- 반사율이 높은 포장지, 어두워 지거나 밝아지는 조명에서 외부 노이즈를 줄이기 위한 방법
- 초점을 미리 맞추는 방법
- 밝기 수준을 제한하기 위하여 필터를 장착
- 빛의 세기를 관리할수 있는 하드웨어(암막) 혹은 스트로브 조명 장착
- HDR 기술을 이용하여 빛의 노출이 긴것과 짧은것의 이미지를 합성하여 표현함


## 렌즈 
- 라온피플에서는 c-mount 렌즈 사용함
- 렌즈는 9~12mm 정도 바코드 인식 때 사용하는 것으로 보임

## 조명
- 원형 조명 : 렌즈의 크기 및 대상물의 거리 등에 의해서 링의 크기 조사각도가 결정됨. 모든 응용이 가능하며 LED 링이 가장 기본이니까 이것부터 시작해도 좋음, 경면 반사가 없음
- 각형 사광 조명 : 제반 조건에 따라 각도를 자유롭게 변화시킬수 있음. 인식하고자 하는 대상물이 사각형인 경우 좋음
- Bar 조명 : 크기를 조율 할 수 있음
- 동축 조명 : 시야에 따라서 타입이 달라질수 있음. 시야내에 높은 조도의 조명을 얻을 때 사용
- Deme 조명 :어떠한 형상의 대상물이라도 균일하며 그림자를 만들지 않음 
- 생각 : 카메라에 내장되어 있는 조명들을 보면 원형 혹은 각형 사광조명(약간 둥근 형태)를 가장 많이 보임

## 머신비전용 조명
- Metal Halide :할로겐보다 광량이 풍부, 광량이 부족한 경우 사용
1000000lux 밝기를 가짐. 수명이 짧아서 보수 비용이 듬
- 할로겐 : 전구 형식
- LED : Metal Hlide 와 같은 광량을 가지긱는 어렵지만 수명이 김 line light guid, light source 형태가 있음. (TDI 라인 스켄
요새는 LED가 발전을 많이 해서 LED로 조명을 많이 사용함.

## 센서
- 근접센서 
- 레이저센서 (발광 수광부)
- 위의 센서를 써서 물체가 왔을때만 카메라가 측정하게 함

## 카메라 방열
- 카메라 장착 방식 : 카메라에 내장되어서 하우징에 열이 모이게 하여 열을 방출하는 방식
- 온도 프로파일이 있는 핀 지느러미 방열판과 대류 흐름 궤적을 검사하는 동안 메탈빔에 장착 되는것이 일반적.
- 핀 방열판 : 카메라 핀 사이에 방열판 부착
- 기타 전략 : 40도 이상의 높은 온도에서 작동해야하는 경우 카메라 방열을 고려해야함. 기타 냉각 시설을 갖추는게 좋음



## 참고자료 
- http://www.envision.co.kr/mv/know/camera/listbody.asp?po_nav=4_2_2&po_no=63&gotopage=1


## 카메라 켈리브레이션
- 렌즈 보정 시스템 구성 : 가까이 있는 물체는 작게, 큰 물체는 크게 보이는 현상이 있는데 이를 보정
- 카메라 인식에 영향을 주는 요인들 : Sensor Noise, Laser Speckle, FOV, Lens 등 
- https://m.blog.naver.com/laonple/220656408847

## 3D 인식
- 3d 카메라는 레이저와 분리가 되어 있는것
- 3d 스캐너는 레이저와 함께 있는것 구성요소는 동일
- 3d 스캐너와 카메라는 구성요소가 동일


## 인식 순서
- 쏘고 : Line 레이저(led 레이저)로 측정 대상에 표면에 
- 받고 : 대상체에 레이저가 반사된 레이저를 이미지 센서를 통해 받음
- 보내고 : 이미지 센서에서 획득한 레이저 영상을 FPGA로 보내고 
- profile 이라는 데이터 추출
- 모으고 : 단면에 해당하는 profile image 합성
- 메우고 : 3d 데이터 출력 
