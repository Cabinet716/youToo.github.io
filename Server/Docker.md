## 도커란?
- 도커는 컨테이너 기반의 오픈소스 가상화 플랫폼이다.
- 컨테이너란? ‘애플리케이션’과 ‘애플리케이션을 구동하는 환경’을, ‘Host OS’ 로부터 격리한 공간을 의미합니다.
- 컨테이너는 보통 마이크로서비스로 사용됩니다.
    - 마이크로서비스란, 거대한 어플리케이션을 기능별로 나누어, 변경/조합이 가능하게 서비스를 의미하며,
    - 컨테이너를 사용하면, 하나의 큰 어플을 서비스 단위로 잘라 빠르게 배포할 수 있기 때문에, 마이크로서비스라고 설명됩니다.
    - 또한, 각각 분리해서 사용하므로, 개별 변경사항이 분리된 다른 기능들에 영향을 미치지 않습니다.

# vm vs docker 
- 도커는 가상머신이 아니고 격리만 해주기 떄문에 성능상 하락이 없다. (성능 하락이 큰 VM과 다르다.)
### 기존의 가상머신(VM) 서버 [Server → Host OS → Hypervisor → 각각의 Guest OS 가 설치된 VM 구동] 
- 장점 : Host OS 가 Window 여도, Guest OS 로 Linux 를 사용할 수 있습니다. 보안적으로, Guest OS 가 뚫렸을 경우, 다른 Guest OS 와 Host OS 가 완벽하게 분리되어 있기 때문에, 각각의 VM 에 피해가 가지 않습니다.
- 단점 : VM 마다 무거운 Guest OS 를 띄우기 때문에, Container 에 비해 속도가 느립니다.
### 컨테이너 서버 [Server → Host OS → Docker Engine → Container 구동]
- 장점 : 하나의 Host OS 를 공유하기 때문에, Container 별로 무거운 OS 를 띄우지 않아, Container 의 속도가 훨씬 빠릅니다.
- 단점 : Host OS 가 Window 라면, Guest OS 로 Linux 를 사용할 수 없습니다. 보안적으로, Container 가 뚫렸을 경우, 다른 Container 와 Host OS 가 위험해질 수 있습니다.


## 쿠버네티스와 도커(컨테이너) 관리
### kubernetes
- 다수의 서버와 다수의 서비스를 관리하기 쉽게하기 위한 컨테이너 관리 툴이다.
- 쿠버네티스에서 여러개의 실행되고있는 도커를 관리한다고 생각하면 된다.
### 스케줄링
- 컨테이너를 적당한 서버에 배포해 주는 작업
- 여러 대의 서버 중 가장 트래픽이 적은 서버에 배포하거나, 순차적으로 배포 또는 랜덤 배포 등 설정이 가능
- 컨테이너 개수를 여러 개로 늘리면 적당히 나눠 배포하고, 서버가 죽으면 실행 중이던 컨테이너를 자동으로 다른 서버에 띄워줌
### 클러스터링
- 여러 개의 서버를 하나의 서버처럼 사용
- 작게는 몇 개 안되는 서버부터 많게는 수천 대의 서버를 하나의 클러스터로
- 여기저기 흩어져 있는 컨테이너도 가상 네트워크를 이용하여 마치 같은 서버에 있는 것처럼 쉽게 통신
### 서비스 디스커버리
- 서비스를 찾아주는 기능(서버끼리의 연결을 하려면 해당 서버가 어디 떠있는지 알아야 하고, 이를 도커 컨테이너 이름으로 손쉽게 찾아줌)
- 클러스터 환경에서 컨테이너는 어느 서버에 생성될지 알 수 없고, 다른 서버로 이동 할 수도 있음
- 따라서 컨테이너와 통신을 하기 위해서 어느 서버에서 실행중인지 알아야 하고, 컨테이너가 생성되고 중지될 때 어딘가에 IP와 Port 같은 정보를 업데이트 해줘야 함
- key-value 스토리지에 정보를 저장할 수 있고, 내부 DNS 서버를 이용
